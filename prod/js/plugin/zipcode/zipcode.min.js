!function(a){"use strict";var b={el:$('input[data-zipcode="zip"]'),doing:!1,lastZip:null,setInputAttr:function(){return this.el.is("[maxlength]")||this.el.attr("maxlength",8),this},clearVal:function(a){return a.replace(/[^\d]/g,"")},dealEl:function(a){if(isNaN(a)||($('[data-zipcode-group="'+a+'"]').attr("disabled",!1),this.doing=!1),isNaN(a)){var b=!a.attr("disabled");a.attr("disabled",b),this.doing=b}return this},getInfo:function(a,b){var c=this,d=b.attr("data-zipcode-group");if(c.lastZip==a)return!1;c.dealEl(b);var e=$.ajax({url:"//src.inf.br/correios/cep.php?cep="+a,timeout:5e3,beforeSend:function(){$('[data-zipcode-group="'+d+'"]').attr("disabled",!0)}});return e.then(function(e){c.lastZip=a,c.dealEl(b).putInfo(e,d)},function(a){c.dealEl(d),console.error(a.statusText)}),this},callCityState:function(a,b){var c=a.attr("data-list");return"states"==c&&(b=a.children('option[data-uf="'+b.toLowerCase()+'"]').attr("value")),a.attr("data-list-start",b).val(b).trigger("change"),this},putInfo:function(a,b){this.dealEl(b);var c=$('[data-zipcode="street"][data-zipcode-group="'+b+'"]'),d=$('[data-zipcode="district"][data-zipcode-group="'+b+'"]'),e=$('[data-zipcode="city"][data-zipcode-group="'+b+'"]'),f=$('[data-zipcode="state"][data-zipcode-group="'+b+'"]'),g=a.rua||"";c.val(g);var h=a.bairro||"";d.val(h);var i=a.estado||0;f.is("[data-list]")&&this.callCityState(f,i),f.is("[data-list]")||f.val(i);var j=a.cidade||0;return e.is("[data-list]")&&this.callCityState(e,j),e.is("[data-list]")||e.val(j),this}}.setInputAttr();b.el.on("blur paste",function(a){if(!b.doing){var c=b.clearVal($(this).val()).slice(0,8);8==c.length&&b.getInfo(c,$(this))}}),"undefined"!=typeof exports?exports.zipcode=b:a.zipcode=b}("undefined"!=typeof global?global:this);